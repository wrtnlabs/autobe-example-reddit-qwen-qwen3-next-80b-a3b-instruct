/// A sub-community on the platform where users gather around a specific
/// topic. Communities have unique names, categories, and optional metadata
/// like description, rules, logo, and banner. Member count is tracked in
/// real-time. Communities are created by members and can be deleted by
/// admins or creators. All community data is immutable except for
/// description, logo, banner, and rules (by creator).
///
/// @namespace Communities
/// @author AutoBE - https://github.com/wrtnlabs/autobe
model community_platform_communities {
  //----
  // COLUMNS
  //----
  /// Primary Key.
  id String @id
  
  /// Unique alphanumeric identifier for the community. May contain hyphens (-)
  /// and underscores (_). Must be 5 to 64 characters long. Immutable after
  /// creation.
  name String
  
  /// The predefined category this community belongs to. Must be one of: ["Tech
  /// & Programming", "Science", "Movies & TV", "Games", "Sports", "Lifestyle &
  /// Wellness", "Study & Education", "Art & Design", "Business & Finance",
  /// "News & Current Affairs"].
  category String
  
  /// Optional summary text with a maximum length of 500 characters. Describes
  /// the community's purpose and rules.
  description String?
  
  /// Optional community rules in plain text format. Each rule is one line. Up
  /// to 20 rules allowed. Only the top 5 are displayed on UI.
  rules String?
  
  /// URL to the community's logo image. Supports PNG, JPG, SVG formats.
  /// Optional. Defaults to placeholder if not provided.
  logo_url String?
  
  /// URL to the community's banner image. Supports PNG, JPG formats. Optional.
  /// Defaults to placeholder if not provided.
  banner_url String?
  
  /// Current number of users who have joined this community. Updated in
  /// real-time when users join or leave. Displayed as "1k" for ≥1000, "1m" for
  /// ≥1000000.
  member_count Int
  
  /// Timestamp when this community was created. Used for sorting in "Recently
  /// Created" search and internal audit tracking.
  created_at DateTime
  
  //----
  // RELATIONS
  //----
  community_platform_posts community_platform_posts[]
  community_platform_user_communities community_platform_user_communities[]
  community_platform_search_communities community_platform_search_communities?
  community_platform_search_posts community_platform_search_posts[]
  community_platform_search_comments community_platform_search_comments[]
  community_platform_community_stats community_platform_community_stats?
  
  @@unique([name])
  @@index([category])
  @@index([created_at])
}